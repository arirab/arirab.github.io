let pageName,siteData={};function setupModalListener(e){var t=document.getElementById("visitorModal");t&&t.addEventListener("show.bs.modal",(function(){google.charts.load("current",{packages:["corechart"]}),google.charts.setOnLoadCallback((()=>drawChart(e.total,e.daily,document.getElementById("modalPageName").textContent)))}))}function drawChart(e,t,a){var o=new google.visualization.DataTable;o.addColumn("string","Day"),o.addColumn("number","Visitors");let n=[];t.forEach(((e,a)=>{let o=new Date;o.setDate(o.getDate()-(t.length-1-a)),n.push({date:o,count:e})})),n.sort(((e,t)=>e.date-t.date));let l=n.findIndex((e=>e.count>0)),d=n.slice(l).map((e=>[e.date.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),e.count]));o.addRows(d);var r={width:800,height:400,lineWidth:5,colors:[textColorDim],hAxis:{titleTextStyle:{color:textColor},textStyle:{color:textColorDim},slantedText:!0,slantedTextAngle:45},vAxis:{title:"Number of Visitors",titleTextStyle:{color:textColor},textStyle:{color:textColorDim}},backgroundColor:bgColor,legend:"none"};new google.visualization.LineChart(document.getElementById("visitorGraphModal")).draw(o,r),document.getElementById("totalCount").innerHTML=`Total number of visitors for ${a}: <span class='text-color'>${e}</span>`;let i=t.reduce(((e,t)=>e+t),0);i==e?document.getElementById("yearlyCount").display="none":document.getElementById("yearlyCount").innerHTML=`Number of visitors in the past 365 Days: <span class='text-color'>${i}</span>`}function stats(){if(void 0===siteData.total)return!1;if(makeScriptTag(scriptTag,(useFullURL?"https://simewu.github.io/":"")+"lib/js/gcharts.min.js",!1),null!==document.getElementById("counter"))return document.getElementById("counter").textContent=siteData.total,document.getElementById("modalPageName").addEventListener("click",(()=>{window.location.replace(siteData.source)})),!0;var e=document.createElement("div");e.className="col-auto";var t=document.createElement("span");t.id="counter",t.className="badge badge-pill float-right text-color-dim",t.setAttribute("data-bs-toggle","modal"),t.setAttribute("data-bs-target","#visitorModal"),e.appendChild(t);var a=document.querySelector("footer");if(null===a)return document.getElementById("counter").display="none",!1;var o=a.querySelector(".row");o&&o.appendChild(e);var n=document.createElement("div");n.className="modal fade",n.id="visitorModal",n.setAttribute("aria-labelledby","visitorModalLabel"),n.setAttribute("aria-hidden","true");var l=document.createElement("div");l.className="modal-dialog modal-lg",n.appendChild(l);var d=document.createElement("div");d.className="modal-content bg-color-dimmer modal-lg",l.appendChild(d);var r=document.createElement("div");r.className="modal-header",d.appendChild(r);var i=document.createElement("h5");i.className="modal-title",i.id="visitorModalLabel",i.innerHTML='Counter for <b><span id="modalPageName" class="text-color"></span></b>',r.appendChild(i);var s=document.createElement("button");s.type="button",s.className="btn-close bg-color-inv",s.setAttribute("data-bs-dismiss","modal"),s.setAttribute("aria-label","Close"),r.appendChild(s);var c=document.createElement("div");c.className="modal-body p-2",d.appendChild(c);var m=document.createElement("div");m.id="totalCount",c.appendChild(m);var u=document.createElement("div");u.id="visitorGraphModal",c.appendChild(u);var g=document.createElement("div");return g.id="yearlyCount",c.appendChild(g),a.appendChild(n),document.getElementById("counter").textContent=siteData.total,document.getElementById("modalPageName").textContent=pageName.charAt(0).toUpperCase()+pageName.slice(1),setupModalListener(siteData),!0}function isAdBlockerActive(){return(()=>{const e=document.createElement("div");e.innerHTML="&nbsp;",e.className="adsbox adsbygoogle ad ad-300x250 ad-banner ad-header ad-sidebar",e.style.position="absolute",e.style.top="-100px",e.style.left="-100px",document.body.appendChild(e);const t=0===e.offsetHeight||0===e.offsetWidth;return document.body.removeChild(e),t})()}function counterInit(){pageName=location.href.split("/")[location.href.split("/").length-1].toLowerCase(),""===pageName&&(pageName="index");if(!isAdBlockerActive()&&void 0!==navigator.sendBeacon){let t="G-LGHB6S47PK";function e(){dataLayer.push(arguments)}makeScriptTag(scriptTag,"https://www.googletagmanager.com/gtag/js?id="+t,!0,(e=>{})),window.dataLayer=window.dataLayer||[],e("js",new Date),e("config",t)}}counterInit();